# 9장 데이터 파이프라인 구축하기
카프카를 사용한 데이터 파이프라인 활용 사례는 대부분 아래와 같다
- 카프카에서 가져온 데이터를 Amazon S3 에 넣거나 몽고 DB의 데이터를 카프카로 가져오는 것과 같은 경우다.
- 서로 다른 시스템을 연결하는 파이프라인을 만들면서 그 중간에 카프카를 사용하는 경우이다

데이터 파이프라인에 있어서 카프카가 갖는 주요한 역할은 데이터 파이프라인의 다양한 단계 사이에 있어, 매우 크고 안정적인 버퍼 역할을 해줄수 있다 <br>

## 9.1 데이터 파이프라인 구축 시 고려사항
#### 9.1.1 적시성
카프카를 이해하는 좋은 방법은 쓰는 쪽과 읽는 쪽 사이의 시간적 민감도에 대한 요구 조건을 분리시키는 거대한 버퍼로 생각하는 것이다 <br>

#### 9.1.2 신뢰성
카프카는 자체적으로 '정확히 한 번' 전달을 보장한다

#### 9.1.3 높으면서도 조정 가능한 처리율
데이터 파이프라인 데이터 시스템은 자주 요구되는 것과 같이 매우 높은 처리율을 가질 수 있도록 확장이 가능해야 한다 <br>

#### 9.1.4 데이터 형식
데이터 파이프라인에서 가장 중요하게 고려해야 할 것 중 하나는 서로 다른 데이터 형식과 자료형을 적절히 사용하는 것이다 <br>

#### 9.1.5 변환
데이터 파이프라인을 구축하는 방식에는 ETL, ELT 방식이 있다.
- ETL: 추출-변환-적재
- ELT: 추출-적재-변환

#### 9.1.6 보안
카프카는 허가받거나 허가 받지 않은 접근 내역을 추적할 수 있는 감사 로그 역시 지원한다 <br>
약간의 추가 코드를 작성하는 것만으로 각 토픽에 데이터가 어디에서 왔고, 누가 그것을 수정했는지 추적할 수 있다 <br>

#### 9.1.7 장애 처리
모든 이벤트를 장기간에 걸쳐 저장하도록 카프카를 설정할 수 있기 때문에, 필요할 경우 이전 시점으로 돌아가서 에러를 복구할 수 있다 <br>
만약 대상 시스템이 유실되었을 경우, 카프카에 저장된 이벤트들을 재생하는 것 역시 가능하다

#### 9.1.8 결합과 민첩성
데이터 파이프라인을 구현할 때 중요한 것 중 하나는 데이터 원본과 대상을 분리할 수 있어야 한다.
- 임기응변 파이프라인
- 메타데이터 유실
- 과도한 처리

## 9.2 카프카 커넥트 vs 프로듀서/컨슈머
카프카 커넥트는 카프카를 직접코드나 API 를 작성하지 않고, 변경도 할 수 없는 데이터 저장소에 연결시켜야 할 때 쓴다 <br>

## 9.3 카프카 커넥트
카프카 커넥트는 아파치 카프카의 일부로서, 카프카와 다른 데이터 저장소 사이에 확장성과 신뢰성을 가지면서 데이터를 주고 받을 수 있는 수단을 제공한다 <br>
커넥트는 커넥터 플러그인을 개발하고 실행하기 위한 API 와 런타임을 제공한다 <br>

커넥터 플러그인은 카프카 커넥트가 실행시키는 라이브러리로, 데이터를 이동시키는 것을 담당한다 <br>

